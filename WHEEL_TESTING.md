# –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –∫–æ–ª–µ—Å–∞ —Ñ–æ—Ä—Ç—É–Ω—ã

## –†–µ–∞–ª–∏–∑–æ–≤–∞–Ω–Ω–∞—è —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å

### ‚úÖ –û—Å–Ω–æ–≤–Ω—ã–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏
- **–°–æ–∑–¥–∞–Ω–∏–µ —Å–µ—Å—Å–∏–π –ø—Ä–æ–∫—Ä—É—Ç–æ–∫** –ø–æ email –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
- **–ü—Ä–æ–∫—Ä—É—Ç–∫–∞ –∫–æ–ª–µ—Å–∞** —Å –∞—Ç–æ–º–∞—Ä–Ω—ã–º–∏ —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏—è–º–∏ –ë–î
- **–ú–µ—Ö–∞–Ω–∏–∫–∞ –≤—ã–¥–∞—á–∏ –ø–æ–¥–∞—Ä–∫–æ–≤**:
  - –ü–µ—Ä–≤—ã–µ 5 –ø—Ä–æ–∫—Ä—É—Ç–æ–∫: –Ω–µ–ø–æ–≤—Ç–æ—Ä—è—é—â–∏–µ—Å—è –ø–æ–¥–∞—Ä–∫–∏
  - 6+ –ø—Ä–æ–∫—Ä—É—Ç–æ–∫: –º–æ–≥—É—Ç –ø–æ–≤—Ç–æ—Ä—è—Ç—å—Å—è, –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç –ø–æ–¥–∞—Ä–∫–∞–º —Å –±–æ–ª—å—à–∏–º –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ–º
  - –í–∑–≤–µ—à–µ–Ω–Ω—ã–π –≤—ã–±–æ—Ä: 60% –æ–±–∏–ª—å–Ω—ã–µ, 30% –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–Ω—ã–µ, 10% —Ä–µ–¥–∫–∏–µ
- **–†–µ–∑–µ—Ä–≤–∏—Ä–æ–≤–∞–Ω–∏–µ –ø—Ä–∏–∑–æ–≤** —Å –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ–º –∫–æ–ª–∏—á–µ—Å—Ç–≤–∞
- **–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –¥–µ–∞–∫—Ç–∏–≤–∞—Ü–∏—è** —Å–µ—Å—Å–∏–π –ø–æ—Å–ª–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è –≤—Å–µ—Ö –ø—Ä–æ–∫—Ä—É—Ç–æ–∫

### üéØ API Endpoints

#### 1. –°–æ–∑–¥–∞–Ω–∏–µ/–ø–æ–ª—É—á–µ–Ω–∏–µ —Å–µ—Å—Å–∏–∏
```http
GET /api/wheel/session?email=user@example.com
```

**–û—Ç–≤–µ—Ç:**
```json
{
  "sessionId": "123",
  "spinsRemaining": 10
}
```

#### 2. –ü—Ä–æ–∫—Ä—É—Ç–∫–∞ –∫–æ–ª–µ—Å–∞
```http
POST /api/wheel/spin
Content-Type: application/json

{
  "sessionId": "123"
}
```

**–û—Ç–≤–µ—Ç:**
```json
{
  "prize": "–ù–∞–∑–≤–∞–Ω–∏–µ –ø—Ä–∏–∑–∞",
  "success": true,
  "prizeId": 5,
  "sessionId": "123"
}
```

#### 3. –ü–æ–ª—É—á–µ–Ω–∏–µ –¥–æ—Å—Ç—É–ø–Ω—ã—Ö –ø—Ä–∏–∑–æ–≤
```http
GET /api/wheel/prizes
```

**–û—Ç–≤–µ—Ç:**
```json
[
  {
    "id": 1,
    "name": "–ö–Ω–∏–≥–∞",
    "total_quantity": 100,
    "quantity_remaining": 95,
    "type": "many"
  }
]
```

## üß™ –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

### –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π —Ç–µ—Å—Ç
```bash
# –ó–∞–ø—É—Å–∫ —Å–µ—Ä–≤–µ—Ä–∞
npm run start:dev

# –í –¥—Ä—É–≥–æ–º —Ç–µ—Ä–º–∏–Ω–∞–ª–µ –∑–∞–ø—É—Å–∫ —Ç–µ—Å—Ç–∞
node test-wheel.js
```

### –†—É—á–Ω–æ–µ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

1. **–°–æ–∑–¥–∞–Ω–∏–µ —Å–µ—Å—Å–∏–∏:**
```bash
curl "http://localhost:3000/api/wheel/session?email=test@example.com"
```

2. **–ü—Ä–æ–∫—Ä—É—Ç–∫–∞ –∫–æ–ª–µ—Å–∞:**
```bash
curl -X POST "http://localhost:3000/api/wheel/spin" \
  -H "Content-Type: application/json" \
  -d '{"sessionId": "1"}'
```

3. **–ü–æ–ª—É—á–µ–Ω–∏–µ –ø—Ä–∏–∑–æ–≤:**
```bash
curl "http://localhost:3000/api/wheel/prizes"
```

## üìä –õ–æ–≥–∏–∫–∞ –≤—ã–±–æ—Ä–∞ –ø—Ä–∏–∑–æ–≤

### –ü–µ—Ä–≤—ã–µ 5 –ø—Ä–æ–∫—Ä—É—Ç–æ–∫
- ‚úÖ –ù–µ–ø–æ–≤—Ç–æ—Ä—è—é—â–∏–µ—Å—è –ø–æ–¥–∞—Ä–∫–∏
- ‚úÖ –ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç –æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–º –ø–æ–¥–∞—Ä–∫–∞–º (–µ—Å–ª–∏ –Ω–∞—Å—Ç—Ä–æ–µ–Ω—ã)
- ‚úÖ –°–ª—É—á–∞–π–Ω—ã–π –≤—ã–±–æ—Ä –∏–∑ –Ω–µ–≤—ã–¥–∞–Ω–Ω—ã—Ö –ø—Ä–∏–∑–æ–≤

### 6+ –ø—Ä–æ–∫—Ä—É—Ç–æ–∫
- ‚úÖ –ú–æ–≥—É—Ç –ø–æ–≤—Ç–æ—Ä—è—Ç—å—Å—è
- ‚úÖ 70% —à–∞–Ω—Å –≤—ã–¥–∞—Ç—å –æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–π –ø–æ–¥–∞—Ä–æ–∫
- ‚úÖ –í–∑–≤–µ—à–µ–Ω–Ω—ã–π –≤—ã–±–æ—Ä –ø–æ —Ç–∏–ø–∞–º:
  - 60% - –æ–±–∏–ª—å–Ω—ã–µ –ø—Ä–∏–∑—ã (type: 'many' –∏–ª–∏ >50 —à—Ç—É–∫)
  - 30% - –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–Ω—ã–µ –ø—Ä–∏–∑—ã (type: 'limited' –∏–ª–∏ 10-50 —à—Ç—É–∫)
  - 10% - —Ä–µ–¥–∫–∏–µ –ø—Ä–∏–∑—ã (type: 'rare' –∏–ª–∏ ‚â§10 —à—Ç—É–∫)

## üîß –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –ø—Ä–∏–∑–æ–≤

–î–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –¥–æ–±–∞–≤—å—Ç–µ –ø—Ä–∏–∑—ã –≤ —Ç–∞–±–ª–∏—Ü—É `prizes`:

```sql
INSERT INTO prizes (name, total_quantity, quantity_remaining, type) VALUES
('–ö–Ω–∏–≥–∞', 100, 100, 'many'),
('–ú–∏–∫—Å–µ—Ä', 5, 5, 'rare'),
('–ë–∏–ª–µ—Ç –≤ –∫–∏–Ω–æ', 20, 20, 'limited'),
('–°–∫–∏–¥–∫–∞ 10%', 200, 200, 'many');
```

## üéØ –°–∏—Å—Ç–µ–º–∞ –æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã—Ö –ø–æ–¥–∞—Ä–∫–æ–≤

### ‚úÖ –†–µ–∞–ª–∏–∑–æ–≤–∞–Ω–Ω–∞—è —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å
- **–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–º–∏ –ø–æ–¥–∞—Ä–∫–∞–º–∏** –∑–∞ 24-—á–∞—Å–æ–≤—ã–µ –ø–µ—Ä–∏–æ–¥—ã
- **–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ —Å–æ–∑–¥–∞–Ω–∏–µ** –µ–∂–µ–¥–Ω–µ–≤–Ω—ã—Ö –æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã—Ö –ø–æ–¥–∞—Ä–∫–æ–≤
- **–ü—Ä–∏–æ—Ä–∏—Ç–∏–∑–∞—Ü–∏—è** –æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã—Ö –ø–æ–¥–∞—Ä–∫–æ–≤ –≤ –ª–æ–≥–∏–∫–µ –≤—ã–±–æ—Ä–∞
- **–û—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏–µ –ø—Ä–æ–≥—Ä–µ—Å—Å–∞** –≤—ã–¥–∞—á–∏ –æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã—Ö –ø–æ–¥–∞—Ä–∫–æ–≤
- **–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –¥–µ–∞–∫—Ç–∏–≤–∞—Ü–∏—è** –∑–∞–≤–µ—Ä—à–µ–Ω–Ω—ã—Ö –ø–µ—Ä–∏–æ–¥–æ–≤

### üéØ API Endpoints –¥–ª—è –æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã—Ö –ø–æ–¥–∞—Ä–∫–æ–≤

#### 1. –ü–æ–ª—É—á–µ–Ω–∏–µ –∞–∫—Ç–∏–≤–Ω—ã—Ö –æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã—Ö –ø–æ–¥–∞—Ä–∫–æ–≤
```http
GET /api/mandatory-prizes/active
```

#### 2. –ü–æ–ª—É—á–µ–Ω–∏–µ –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç–Ω—ã—Ö –ø–æ–¥–∞—Ä–∫–æ–≤
```http
GET /api/mandatory-prizes/priority
```

#### 3. –°–æ–∑–¥–∞–Ω–∏–µ –æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ–≥–æ –ø–æ–¥–∞—Ä–∫–∞
```http
POST /api/mandatory-prizes
Content-Type: application/json

{
  "prizeId": 8,
  "targetQuantity": 5
}
```

#### 4. –°–æ–∑–¥–∞–Ω–∏–µ –µ–∂–µ–¥–Ω–µ–≤–Ω—ã—Ö –ø–æ–¥–∞—Ä–∫–æ–≤
```http
POST /api/mandatory-prizes/daily
```

### üìä –õ–æ–≥–∏–∫–∞ –æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã—Ö –ø–æ–¥–∞—Ä–∫–æ–≤

- **–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç –≤—ã–¥–∞—á–∏**: –û–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–µ –ø–æ–¥–∞—Ä–∫–∏ –∏–º–µ—é—Ç –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç –≤ –ø–µ—Ä–≤—ã—Ö 5 –ø—Ä–æ–∫—Ä—É—Ç–∫–∞—Ö
- **70% —à–∞–Ω—Å** –≤—ã–¥–∞—á–∏ –æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ–≥–æ –ø–æ–¥–∞—Ä–∫–∞ –≤ 6+ –ø—Ä–æ–∫—Ä—É—Ç–∫–∞—Ö
- **–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –æ—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏–µ** –ø—Ä–æ–≥—Ä–µ—Å—Å–∞ –≤—ã–¥–∞—á–∏
- **–£–º–Ω–∞—è –ª–æ–≥–∏–∫–∞**: –ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç –ø–æ–≤—ã—à–∞–µ—Ç—Å—è –ø—Ä–∏ –ø—Ä–∏–±–ª–∏–∂–µ–Ω–∏–∏ –∫ –∫–æ–Ω—Ü—É 24-—á–∞—Å–æ–≤–æ–≥–æ –ø–µ—Ä–∏–æ–¥–∞

## üöÄ –°–ª–µ–¥—É—é—â–∏–µ —à–∞–≥–∏

- [x] –†–µ–∞–ª–∏–∑–∞—Ü–∏—è —Å–∏—Å—Ç–µ–º—ã –æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã—Ö –ø–æ–¥–∞—Ä–∫–æ–≤ –∑–∞ 24 —á–∞—Å–∞
- [ ] –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å email-–æ—á–µ—Ä–µ–¥—å—é
- [ ] –ù–∞–≥—Ä—É–∑–æ—á–Ω–æ–µ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ
- [ ] –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –∏ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ